<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Alegreya+Sans:400,500,500i,700,700i|Fira+Sans:200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800|Forum|Open+Sans:400,400i,600,600i,700|PT+Sans:400,400i,700|Roboto:400,500,500i,700|Source+Sans+Pro:400,400i,600,600i,700,700i,900&amp;subset=cyrillic-ext" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Alegreya|Alice|Cormorant|Jura|Montserrat+Alternates|Philosopher" rel="stylesheet">
    <link rel="stylesheet" href="css/application.css">
</head>

<style>


</style>
<body>
<div id="header">
    <div id="neon">
    <p id="black"><span>чо</span><span>р</span><span>н</span><span>а</span></p>
    <p id="friday"><span>п'</span><span>я</span><span>т</span><span>н</span><span>и</span><span>ц</span><span>я</span></p>
    </div>
</div>

<div id="main-content">
    <div class="text">
    <p>В Західній Європі і Сполучених штатах  розпродажі означають відчутні знижки, можливість купити дорогу річ в рази дешевше. Чи не найбільшим святом шопінгу  є Чорна пʼятниця, з якої стартують різдвяні розпродажі. І хоча в Україні існує усталена практика піднімати ціни на свята, саме на Чорну пʼятницю магазини пропонують клієнтам шалені знижки.</p>

    <p>Можливо, Ви також встигли прикупити щось довгоочікуване і бажане, або дозволили собі незаплановані покупки -  коли як не зараз?!  Але чи дійсно Чорна пʼятниця є проявом небаченої щедрості з боку продавців, які звикли заробляти на великих відсотках, а не товарообороті? </p>

    <p> Ми вирішили це перевірити. Тож протягом травня-листопада кілька разів на місяць збирали ціни на ряд товарів кількох популярних інтернет-магазинів. До нашої вибірки потрапили смартфони, ноутбуки, телевізори, велика побутова техніка, дрібна побутова техніка, одяг, верхній одяг, сумки, парфуми. Загалом ми зібрали інформацію про понад …. . товарів. Потім серед них товарів ми вибрали ті, які магазини пропонували на розпродажі і порівняли акційну ціну з цінами за півроку. Вийшло майже 7.3 тис., з яких 1025 одиниць техніки з двох добре відомих інтернет-магазинів і майже 6.3 тис. одиниць жіночого одягу і сумок з популярного магазину одягу.  </p>

        <p>Ми не узагальнюємо наші висновки на всі точки продажу  і товари. Припускаємо, що існує безліч магазинів, де ситуація така сама, і чимало таких, які надають виключно чесні знижки. Ми не будемо називати магазинів, які ми досліджували, аби уникнути розмов про те, що матеріал є замовним, рекламним чи антирекламним. Деякі наші припущення щодо Чорної пʼятниці дослідження підтвердило, деякі ні.</p>

    <h2>Заявлена знижка vs реальна знижка.</h2>
        <p> Напередодні Чорної пʼятниці магазини завищують ціну в 2-3 рази, аби в день Х показати суттєве зниження.  Це припущення не підтвердилось. За 1-2 тижня до Чорної пʼятниці деякі товари трохи набирають в ціні, але не суттєво, і ефект знижки досягається не за рахунок цього.

        <p> На розпродаж кидають дуже обмежену кількість товарів або непопулярні товари.  Це припущення також не підтвердилось. Магазини оголосили акційні ціни не різноманітні товари від дрібної побутової техніки до дорогих моделей ноутбуків, смартфонів, телевізорів тощо.

        <p> Магазини брешуть про розміри знижок. А це, на жаль, правда! Порівнявши ціни товарів Чорної пʼятниці з цінами на ці ж товари, за якими вони продавались протягом травня-листопада, ми зʼясували, що не варто вірити магазинам наслово про розмір акційних знижок. Лише у 403 випадках заявлена магазином знижка відповідала реальній або була близькою до неї (до 2% різниці). Реальну знижку ми рахували як різницю у відсотках між ціною Чорної пʼятниці і середньою ціною на товар протягом травня-листопада. Але ж хіба в покупця є час думати про це, коли "акційний товар закінчується дуже швидко" і "до кінця акції залишилось три, два, один, день". Графік нижче показує <b>спвівідношення реальних знижок з тими, що пропонували магазини</b>. </p>
    </div>





<!--<div id="treemapContainer">-->

    <!--<h2 id="treemapTitle">Такі знижки обійяли магазини</h2>-->
    <!--&lt;!&ndash;<div id="area-chart"></div>&ndash;&gt;-->


    <!--<div style="height:calc(100vh - 50px); grid-row:2/3; grid-column: 2/3;" id="treemap-1">-->
        <!--<button class="redraw first-blink" id="redrawToMean">Реальні знижки</button><br>-->
        <!--<button class="redraw" id="redrawToShop">Заявлені знижки</button><br>     -->

        <!--<p  class="treemaplegend" style="margin: 3px 3px 0px 5px;"><span><svg width="25" height="15">-->
  <!--<rect width="15" height="15" style="fill:#d7d7d7;margin-right:10px;" />-->
<!--</svg></span>Знижка</p>-->
        <!--<p class="treemaplegend" style="margin: 3px 3px 50px 5px;"><span><svg width="25" height="15">-->
  <!--<rect width="15" height="15" style="fill:#ff36ad;margin-right:10px;" />-->
<!--</svg></span>Націнка</p>-->
        <!--<p class="treemaplegend">Заявлена і реальна знижка суттєво відрізняється в залежності від категорії товару. Спробуйте вгадати, на чому продавці малюють набільше</p>-->



    <!--</div>-->
<!--</div>-->




    <!--<p class="legend-product" style="color: rgb(31, 119, 180);">Побутова техніка</p>-->
    <!--<p class="legend-product" style="color: rgb(255, 127, 14);">Телефони, аксесуари</p>-->
    <!--<p class="legend-product" style="color: rgb(148, 103, 189);">Одяг</p>-->
    <!--<p class="legend-product" style="color: rgb(44, 160, 44);">Ноутбуки, планшети</p>-->
    <!--<p class="legend-product" style="color: rgb(214, 39, 40);">Телевізори</p>-->
    <!--<p class="legend-product" style="color: rgb(140, 86, 75););">Сумки</p>-->

</div>


<div style="" id="bigContainer">

    <div style="" id="turnMe">
        <svg  id="scatter"  viewBox="0 0 900 900"></svg>
    </div>
    <div id="scatter-legend"  style="margin-top: 20vh;">
        <p ><span style="font-weight:400;">Кольорами позначені категорії товарів:</span><br>
               <!--<span class="rectangle" style="background-color:green;"></span> <span style="font-size:13px;">Ноутбуки, планшети </span><br>-->
               <!--<span class="rectangle" style="background-color:rgb(255, 127, 14);"></span> <span style="font-size:13px;">Смартфони, аксесуари</span> <br>-->
               <!--<span class="rectangle" style="background-color:rgb(214, 39, 40);"></span><span style="font-size:13px;"> Телевізори </span><br>-->
               <!--<span class="rectangle" style="background-color:rgb(31, 119, 180);"></span><span style="font-size:13px;"> Побутова техніка </span><br>-->
               <!--<span class="rectangle" style="background-color:rgb(148, 103, 189);;"></span><span style="font-size:13px;"> Одяг </span><br>-->
               <!--<span class="rectangle" style="background-color:rgb(140, 86, 75);"></span><span style="font-size:13px;"> Сумки</span> <br>-->

        <span class="rectangle" style="background-color:#88d78e;"></span><span> Техніка</span> <br>
        <span class="rectangle" style="background-color:#FF80B3;"></span><span> Одяг, сумки</span> <br>
           </p>

        <p id="mobHide" style="margin-top:20px;">Точки на графіку клікабельні. По кліку відриється графік, на якому відображено динаміку ціни на товар протягом півроку і в день Чорної Пʼятниці.</p>


    </div>


</div>



<!--<div class="multTreemaps">-->
    <!--<div id="shop_clothes" class="clothes_type">-->
        <!--<div style="display:flex; justify-content: space-between;">-->
            <!--<h5 id="treeTitleClothes">Заявлені знижки на одяг</h5>-->
            <!--<button class="redraw first-blink" id="redrawClothesChart" >А насправді?</button>-->
        <!--</div>-->

    <!--</div>-->

    <!--<div id="shop_appl" class="appl_type">-->
        <!--<div style="display:flex; justify-content: space-between;">-->
            <!--<h5 id="treeTitleApplience">Заявлені знижки на техніку</h5>-->
            <!--<button class="redraw first-blink" id="redrawApplienceChart">Показати реальні</button>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->



<div class="text">
    <p>Як видно з графіку більшість товарів потрапила до зони так званих НЕЧЕСНИХ ЗНИЖОК.  Це товари, які в день розпродажу Ви могли б купити дешевше, ніж зазвичай, але не настільки дешевше, як заявили магазини.  Утворені точками лінії на графіку - це популярні відсотки знижок. Вони більш чітко проявляються по вісі Х, тобто оголошених магазинами знижок. </p>

    <p>Завищувати стару (перекреслену) ціну товару, аби знижка казалась більш вагомою - розповсюджене явище і достатньо дієве.</p>

    <p>Якщо Ви плануєте купити новий холодильник, ви скоріше за все порівняєте ціну обраної моделі в кількох магазинах, будете слідкувати з ціною, а може навіть чекати на знижку, але у випадку купівлі нової сумки чи рюкзака - скоріше за все ні. Ймовірність спіймати нечесну знижку більша на  товари, рішення про купівлю яких приймається більш спонтанно. Гірше того, вам може трапитись товар, який в звичайний день коштує навіть дешевше,ніж на Чорну пʼятницю. </p>


    <h2>Стара ціна зі стелі</h2>
    <p> Для того, аби надурити покупця або навпаки продати йому товар зі знижкою, продавцям не треба чекати спеціальної пʼятниці. Вони розблять і те і інше регулярно. Тож Чорна пʼятниця дає покупцям відразу три можливості:
    <ul>
        <li>Дійсно купити товар зі знижкою (памʼятаємо про понад 400 товарів з 7500, в яких заявлена знижка співпадала з реальною)</li>
        <li>Купити товар за мінімальною ціною. Часто ціна товару у чорну пʼятницю дорівнює його найнижчій ціни за півроку</li>
        <li>Переплатити зайві 1-100% (як пощастить) за красиву сукню, модну шубу, сумку на тлі загальної істерії</li>
    </ul>

    <p>Ми пропонуємо вам подивитись, як магазини використовують маніпуляцію зі старою ціною  протягом півроку, що ми збирали дані.  <b>Стара ціна</b> на графіках позначена <b>чорною лінією</b>, <span style="color:#ff36ad"><b>поточна - рожевою</b></span>. Якщо стара ціна на товар зазначена чесно, то вона колись була не старою, а поточною. Тож чорна і рожева лінії мають перенатись.</p>

    <p>На графіку представлена середня ціна по категоріям. За 100% взята ціна, за який товар пропонували купити у Black friday. Від неї ми рахували зміни у відсотках на поточну і стару ціну на кожен товар.</p>

    <p>В цілому black friday знижки можна умовно поділити на три типи, які є цілком закономірними.</p>
</div>

<div id="sale">
    <div id="smallMultiplesContainer1"></div>
    <div id="scrollText1" class="scroll-block2">
        <p>На ноутбуки, телефони, планшети, смарт-годинники стара ціна зазвичай є справжньою старою ціною. Ви бачите, як чорна лінія переплітається з рожевою. Однак враховуйте, що подібна техніка постійно дешевіє через появу нових більш потужних моделей. Магазинам не вигідно, щоб такі товари залежувались на складах, бо кожен день їх реальна ціна меншає. Середня знижка на смартфони на чорно пʼятничних розпродажах склала 14%, смарт-годинники - 18%, навушники - 23%. Ноутбуки в середньому продавались на 12,5 % дешевше. Але на дорогих моделях можна було зекономити понад 10 тис. грн (наприклад, Ноутбук Lenovo Yoga 910-13IKB (80VF00DGRA) Silver один з магазинів віддавав за 38 тис. грн, в той час як середня ціна протягом року складала 50.5 тис. грн. </p>

    </div>
    <div id="smallMultiplesContainer2"></div>
    <div class="scroll-block2" id="scrollText2" >
        <p>Друга категорія - це телевізори і побутова техніка. Життя цього товару трохи довше, ніж смартфонів або смарт-годинників, і цінова політика цілком відповідає цьому. Лінія старої ціни завжди трохи вища за поточну, аби створити у покупця враження, що він трохи економить, купивши товар саме зараз. Водночас на моделі телевізорів вартістю понад 50 тис. грн на Чорну пʼятницю були помітні знижки. Наприклад, <b>Телевізор LG OLED55B8PLA</b> середня ціна якого за півроку склала понад 67199 грн, в день знижок продавали за 41999 грн. Дрібна побутова техніка більше втратила в ціні ніж велика. Тостери, блендери та соковитискачки продавались в цілому на 18% дешевше. </p>
    </div>
    <div id="smallMultiplesContainer3"></div>
    <div id="scrollText3" class="scroll-block2">
        <p>Одяг модних брендів - не є товаром першої необхідності. Cукні не загрожує більш нова модель і, зазвичай, сукня не коштує, як телевізор чи холодильник. На це і розраховують продавці. Тож вказана стара ціна - майжи завжди приманка, її єдина функція створити у покупця хибне враження, не купи він товар зараз, ризикує сильно переплатити потім. Водночс зазначимо, що одяг - єдина категорія, де знижки сягали за 50%. Понад 300 суконь продавались з такою знижкою (у порівнянні до їх середньої ціни за півроку), а середня знижка на цей товар становила близько 20%. Це набагато більш ніж в магазинах техніки, проте проблема в тому, що даючи непогані реальні знижки, магазин намагався створити враження шаленого розпродажу в до -90%. Тому так багато товарів одягу потрапили в зону НЕЧЕСНИХ ЗНИЖОК. До того ж на знижки частіше потрапляють дешеві речі. А от знижки на верхній одяг не були настільки привабливими - лише 7.6%. Зате він є лідером по націнках - 14.5%.</p>
       </div>
</div>

<!-- не чіпати! Привід для розрахунку ширини контейнеру для svh small-multiples;-->
<div id="categories">
    <div id="phantomContainer">
        <div id="phantom"></div>
    </div>
    <div id="afterPhantom"></div>
</div>


<div style="display:grid; grid-template-columns: 1.5fr 1.5fr; grid-template-rows:none; grid-gap:30px" class="text">
    <div id="scroll-chart"></div>

    <div id="scroll-text">
    <h2>Холодильник та інші приклади</h2>

        <div id = "c-1341606" class="block">
            <p>Холодильник Gorenje NRS9181CBBK двічу за рік втрачав в ціні понад 100 тис. грн. М не знаємо, з чим пов’язані такі суттєві скачки в ціні. Але незважаючи на справді відчутну різницію між середньою ціною за півроку і ціною Black Friday, навряд чи цей випадок можна віднести до акційних знижок.</p>
        </div>
        <div id="c-1023088" class="block">
            <p>А от інший холодильник - Hitachi R-V720PUC1KXINX напередодні розпродажу,  навпаки, прибавив в ціні. Ціна Чорної пʼятниці по відношенню до середньої склала 23%</p>
        </div>
        <div id = "c-1309062" class="block">
            <p>ЗСмартфон Huawei P20 Black за півроку суттєво подешевів. В день розпродажу Ви могли б купити його на 5 тис. дешевше ніж на тиждень раніше. А ось купивши його за півроку до Чорної пʼятниці переплатили б понад 10 тис. грн</p>
        </div>
        <div id = "c-1104145" class="block">
            <p> Понад 40% знижки один з магазинів чесно пропонував на праску з парогенератором Braun IS7056BK PRO - PRO LOCK REMOVABLE. В Чорну пʼятницю Ви б заплатили за неї …. грн замість звичайних ….</p>
        </div>

        <div id="r-51927894" class="block">
            <p> Також можна було суттєво зекономити на роботі-пилососі. MAMIBOT EXVAC660 продавався майже в два рази дешевше.
        </div>
        <div id="c-1167115" class="block">
            <p> Телевизор Samsung QE65Q8CAMUXUA втрачав в ціні потроху протягом півроку. Проте якщо порівнювати його ціну в день розпродажу із середньої, знижка виглядає вагомо.</p>
        </div>
    </div>
    </div>
</div>


<div class="content">
    <p>Ми показали Вам кілька конкретних прикладів. Але вам доступні всі 7,5 тис. товарів, по яких ми збирали дані. Тож якщо хочете більше прикладів, обирайте категорію товарів яка Вам цікава і тисніть на кнопку “Показати” - база підтягне Вам 10 випадкових товарів у вибраній категорії. Хочете подивитись інші 10 - натисніть “Ще графічків”.  </p>

</div>

<div id="selectButtons" style="width:max-content; margin: 50px auto">
    <div id="MyDropDownList" style="width:max-content; float:left; margin-right: 10px"></div>
    <div id="MyDropDownList2" style="width:max-content; float:left; margin-right: 10px"></div>
    <button id="mybut" style="width:max-content; margin-right: 10px">Показати</button>
</div>
<div id="charts">

</div>
<!--<script src="server.js"></script>-->
<script src="lib/jquery-2.1.4.min.js"></script>
<!--<script src="lib/d3.min.js"></script>-->
<script src ="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
<script src="lib/swoopy-drag.js"></script>
<script src="lib/d3v4jetpack.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartist/0.9.7/chartist.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>-->
<script src="js/script.js"></script>
<!--<script src="https://unpkg.com/tippy.js@3/dist/tippy.all.min.js"></script>-->
<script src="js/sale.js"></script>
<script src="js/example.js"></script>
<script src="js/scatterplot.js"></script>

<script>




//$("#sparkline-dashed").sparkline([7,9,7,7,6,7], {
//    type: 'line',
//    width: '80',
//    height: '10',
//    lineColor: '#ffffff',
//    fillColor: '#000000',
//    lineWidth: 1,
//    spotColor: '#',
//    minSpotColor: '#',
//    maxSpotColor: '#',
//    highlightSpotColor: '#',
//    highlightLineColor: '#',
//    spotRadius: 0,
//    normalRangeColor: '#'});
//
//
//$("#sparkline-pink").sparkline([0,3,2,2,2.2,2,2 ], {
//    type: 'line',
//    width: '80',
//    height: '10',
//    lineColor: '#ff36ad',
//    fillColor: '#000000',
//    lineWidth: 1,
//    spotColor: '#',
//    minSpotColor: '#',
//    maxSpotColor: '#',
//    highlightSpotColor: '#',
//    highlightLineColor: '#',
//    spotRadius: 0,
//    normalRangeColor: '#'});

function isOnScreen(elem) {
    // if the element doesn't exist, abort
    if (elem.length == 0) {
        return;
    }
    var $window = $(window);
    var viewport_top = $window.scrollTop();
    var viewport_height = $window.height();
    var viewport_bottom = viewport_top + viewport_height;
    var $elem = $(elem);
    var top = $elem.offset().top;
    var height = $elem.height();
    var bottom = top + height;

    return (top >= viewport_top && top < viewport_bottom) ||
            (bottom > viewport_top && bottom <= viewport_bottom/2) ||
            (height > viewport_height && top <= viewport_top && bottom >= viewport_bottom)
}


function getElemIsOnView(elemClass) {
    var blocks = $(elemClass);
    var prevId;
    var targetId;
    blocks.each(function() {
        if(isOnScreen(this)) {
            var prevElem = $(this).previousSibling;
            prevId = $(prevElem).attr("id");
            targetId = $(this).attr("id");
            console.log(targetId);
            console.log(prevId);
        }
    });
    if(targetId != prevId) {
        return targetId;
    }

}
//$(document).ready(function(){
//    $(this).scrollTop(0);
//});

</script>

<div class="tooltip"><div id='tipDiv'><p><span class='ct-chart-pink line'>Ціна продажу - </span><span class='ct-chart-black line'>Стара ціна - </span><button id="closeX">&times;</button></p></div></div>

</body>
</html>